{"version":3,"sources":["webpack:///./src/components/Single/components/Zoom/index.tsx","webpack:///./src/components/Single/components/Slider/index.tsx","webpack:///./src/components/Single/index.tsx","webpack:///./src/templates/single.tsx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/DesktopHeader/components/CornerMenu/static/cart.png","webpack:///./src/components/DesktopHeader/static/logo.png","webpack:///./src/components/MobileHeader/static/logo.png","webpack:///./src/components/DesktopHeader/components/CornerMenu/index.tsx","webpack:///./src/components/DesktopHeader/index.tsx","webpack:///./src/components/MobileHeader/index.tsx","webpack:///./src/components/Layout/index.tsx","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/components/Single/components/Slider/static/arrow.png","webpack:///./src/components/Single/components/Slider/static/unchecked.png","webpack:///./src/components/Single/components/Slider/static/checked.png"],"names":["b","b_","Zoom","overlay","image","onMouseMove","e","_this","move","clientX","clientY","render","_this2","this","_this$props","props","src","onClose","react","className","onClick","ref","el","componentDidMount","_this$props2","mouseX","mouseY","window","addEventListener","document","body","classList","add","componentWillUnmount","removeEventListener","remove","_this$overlay","clientWidth","clientHeight","_this$props3","left","width","top","height","x","Math","max","y","style","transform","marginLeft","marginTop","React","Slider","state","current","zoomed","zoom","setState","pics","_this$state","map","pic","i","active","preview","alt","nativeEvent","arrow","slide","right","key","checked","unchecked","Single_components_Zoom","Object","assign","original","dir","n","length","Single","title","description","price","Single_components_Slider","query","formatPics","data","allFile","edges","_ref2","node","name","childImageSharp","resize","SinglePage","_ref","Layout","src_components_Single","allProductsJson","__webpack_require__","r","__webpack_exports__","d","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","a","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","createElement","Consumer","staticQueryData","children","Error","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","require","default","ProdPageRenderer","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","json","shape","p","CornerMenu","href","cart","headerHeightMax","headerHeightMin","marginMax","marginMin","ratio","DesktopHeader","logo","undefined","resizeHeader","scrollY","marginBottom","DesktopHeader_components_CornerMenu","gatsby_browser_entry","to","MobileHeader","Helmet_default","lang","content","rel","src_components_DesktopHeader","src_components_MobileHeader","dP","f","FProto","Function","prototype","nameRE","configurable","get","match"],"mappings":"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","file":"component---src-templates-single-tsx-6972f8568a5cbe081171.js","sourcesContent":["import * as React from 'react'\nimport * as b_ from 'b_';\nimport { Image } from '../../types';\n\nimport './index.scss';\n\nconst b = b_.bind(null, 'zoom');\n\ntype Props = Image & {\n  onClose: () => void;\n  mouseX: number;\n  mouseY: number;\n};\n\nclass Zoom extends React.Component<Props, {}> {\n\n  private overlay: HTMLDivElement | null = null;\n  private image: HTMLImageElement | null = null;\n\n  render(){\n    const {src, onClose} = this.props;\n    return (\n      <div\n        className={b()}\n        onClick={onClose}\n        ref={el => this.overlay = el}\n      >\n        <img\n          ref={el => this.image = el}\n          src={src}\n        />\n      </div>);\n  }\n\n  componentDidMount(){\n    const {mouseX, mouseY} = this.props;\n    window.addEventListener('mousemove', this.onMouseMove);\n    window.document.body.classList.add('overflow-hidden');\n    this.move(mouseX, mouseY);\n  }\n\n  componentWillUnmount(){\n    window.removeEventListener('mousemove', this.onMouseMove);\n    window.document.body.classList.remove('overflow-hidden');\n  }\n\n  onMouseMove = (e: MouseEvent) => {\n    this.move(e.clientX, e.clientY);\n  }\n\n  move(mouseX: number, mouseY: number){\n    if(!this.image){\n      return;\n    }\n    const {clientWidth, clientHeight} = this.overlay;\n    const {width, height} = this.props;\n\n    const left = (clientWidth - width) / 2;\n    const top = (clientHeight - height) / 2;\n\n    const x = (mouseX / clientWidth * 2 - 1) * Math.max( -left, 0 ) ;\n    const y = (mouseY / clientHeight * 2 - 1) * Math.max( -top, 0 ) ;\n\n    this.image.style.transform = `translate(${-x}px, ${-y}px)`;\n    this.image.style.marginLeft = `${left}px`;\n    this.image.style.marginTop = `${top}px`;\n  }\n}\n\nexport default Zoom;","import * as React from 'react'\nimport * as b_ from 'b_';\nimport {Slide} from '../../types';\nimport Zoom from '../Zoom';\n\nimport './index.scss';\n\nimport * as arrow from './static/arrow.png';\nimport * as unchecked from './static/unchecked.png';\nimport * as checked from './static/checked.png';\n\nconst b = b_.bind(null, 'slider');\n\ninterface Props {\n  pics: Slide[];\n}\n\ninterface State {\n  current: number;\n  zoomed: boolean;\n  mouseX?: number;\n  mouseY?: number;\n}\n\nclass Slider extends React.Component<Props, State> {\n\n  state: State = {current: 0, zoomed: false}\n\n  render(){\n    const {pics} = this.props;\n    const {current, zoomed} = this.state;\n    return (\n      <section className={b()}>\n        <div className={b('image-wrap')}>\n          {pics.map((pic, i) =>\n            <img\n              className={b(\"image\", {active: i === current})}\n              src={pic.preview.src}\n              alt=\"whale\"\n              onClick={e => this.zoom(e.nativeEvent)}\n            />\n          )}\n          <img\n            className={b(\"arrow\", {left: true})}\n            src={arrow}\n            alt=\"left\"\n            onClick={() => this.slide(-1)}\n          />\n          <img\n            className={b(\"arrow\", {right: true})}\n            src={arrow}\n            alt=\"right\"\n            onClick={() => this.slide(1)}\n          />\n        </div>\n        <div className={b('dots')}>\n          {pics.map((pic, i) => (\n            <div\n              key={i}\n              className={b('dot')}\n              onClick={() => this.setState({current: i})}\n            >\n              <img src={i === this.state.current ? checked: unchecked} alt=\"dot\"/>\n            </div>\n          ))}\n        </div>\n        {this.state.zoomed && \n          <Zoom\n            {...pics[current].original}\n            mouseX={this.state.mouseX}\n            mouseY={this.state.mouseY}\n            onClose={() => this.setState({zoomed: false})}\n          />\n        }\n      </section>)\n  }\n\n  slide(dir){\n    const n = this.props.pics.length;\n    this.setState({current: (n + this.state.current + dir)%n});\n  }\n\n  zoom = (e: MouseEvent) => {\n    this.setState({\n      zoomed: true,\n      mouseX: e.clientX,\n      mouseY: e.clientY\n    });\n  }\n}\n\nexport default Slider;","import * as React from 'react'\nimport * as b_ from 'b_'\nimport Slider from './components/Slider';\nimport {Slide} from './types';\n\nimport './index.scss';\n\nconst b = b_.bind(null, 'single');\n\ninterface Props {\n  pics: Slide[];\n  title?: string;\n  description?: string;\n  price?: number;\n}\n\nclass Single extends React.Component<Props> {\n\n  render(){\n    const { pics, title, description, price } = this.props;\n    return (\n      <section className={b()}>\n        <Slider pics={pics} />\n        <div className={b('title')}>{title}</div>\n        <div className={b('description')}>{description}</div>\n        {!!price && \n          <>\n            <div className={b('price')}>Цена: <span>{price} Р</span></div>\n            <button className={b('buy-btn')}>Купить</button>\n          </>\n        }\n      </section>)\n  }\n}\n\nexport default Single;","import * as React from 'react'\nimport { Link, graphql, StaticQuery } from 'gatsby'\nimport Layout from '../components/Layout'\nimport Single from '../components/Single'\n\ninterface Response {\n  allFile: {\n    edges: {\n      node: {\n        name: string;\n        childImageSharp: {\n          resize: {\n            src: string;\n            width: number;\n            height: number;\n          }\n          original: {\n            src: string;\n            width: number;\n            height: number;\n          }\n        }\n      }\n    }[]\n  }\n  allProductsJson: {\n    edges: {\n      node: {\n        title?: string;\n        description?: string;\n        price?: number\n      }\n    }[]\n  }\n}\n\ninterface Props {\n  data: Response;\n}\n\nconst SinglePage = ({ data }: Props) => (\n  <Layout>\n    <Single\n      pics={formatPics(data)}\n      title={data.allProductsJson.edges[0].node.title}\n      description={data.allProductsJson.edges[0].node.description}\n      price={data.allProductsJson.edges[0].node.price}\n    />\n  </Layout>\n)\n\n\nexport const query = graphql`\n  query($slug: String!){\n    allFile(filter: {relativeDirectory: {eq: $slug }}){\n      edges{\n        node{\n          name\n          childImageSharp{\n            resize(height: 500){\n              src\n              width\n              height\n            }\n\n            original{\n              src\n              width\n              height\n            }\n          }\n        }\n      }\n    }\n    allProductsJson(filter: {path: {eq: $slug}}){\n      edges {\n        node {\n          title\n          description\n          price\n        }\n      }\n    }\n  }\n`;\n\nconst formatPics = (data: Response) => data.allFile.edges.map(({node}) => ({\n  name: node.name,\n  preview: node.childImageSharp.resize,\n  original: node.childImageSharp.original\n}));\n\nexport default SinglePage;","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","module.exports = __webpack_public_path__ + \"static/cart-3dbf654cd75566efb70dc1aeead3d2f8.png\";","module.exports = __webpack_public_path__ + \"static/logo-63632849d96003b5573f9dbb70ed8e7d.png\";","module.exports = __webpack_public_path__ + \"static/logo-319147f28e70f326a397047969884235.png\";","import * as React from 'react'\nimport { Link } from 'gatsby'\nimport * as b_ from 'b_'\n\nimport './index.scss';\n\nimport * as cart from \"./static/cart.png\"\n\nconst b = b_.bind(null, 'corner-menu');\n\nconst CornerMenu = () => (\n  <div className={b()}>\n    <div className={b(\"inner\")}>\n      <a className={b(\"language\")} href=\"#\">eng</a>\n      <a className={b(\"cart\")} href=\"/\">\n        <img src={cart} alt=\"\" />\n      </a>\n    </div>\n  </div>\n)\n\nexport default CornerMenu\n","import * as React from 'react'\nimport { Link } from 'gatsby'\nimport * as b_ from 'b_'\nimport CornerMenu from './components/CornerMenu';\n\nimport './index.scss';\n\nimport * as logo from \"./static/logo.png\";\n\nconst b = b_.bind(null, 'desktop-header');\n\n\nconst headerHeightMax = 400;\nconst headerHeightMin = 140;\n\nconst marginMax = 120;\nconst marginMin = 35;\n\nconst ratio = (headerHeightMax - headerHeightMin)/(marginMax - marginMin);\n\n\nclass DesktopHeader extends React.Component {\n  private logo?: HTMLImageElement = undefined;\n  private left?: HTMLAnchorElement = undefined;\n  private right?: HTMLAnchorElement = undefined;\n\n  render(){\n    return (\n      <section className={b()}>\n        <CornerMenu />\n        <a className={b(\"menu\")} ref={el => this.left = el}>керамика</a>\n        <Link to=\"/\"><img className={b(\"logo\")} src={logo} ref={el => this.logo = el}/></Link>\n        <a className={b(\"menu\")} ref={el => this.right = el}>валяние</a>\n      </section>\n    );\n  }\n\n  componentDidMount(){\n    if(typeof window !== 'undefined'){\n      window.addEventListener('scroll', this.resizeHeader);\n    }\n  }\n\n  componentWillUnmount(){\n    window.removeEventListener('scroll', this.resizeHeader);  \n  }\n\n  resizeHeader = () => {\n    const top = window.scrollY;\n    this.logo && (this.logo.style.width = Math.max(headerHeightMax - top, headerHeightMin) + 'px'); \n\n    this.left && (this.left.style.marginBottom = Math.max(marginMax - top/ratio, marginMin) + 'px');\n    this.right && (this.right.style.marginBottom = Math.max(marginMax - top/ratio, marginMin) + 'px');\n\n  }\n}\n\nexport default DesktopHeader\n","import * as React from 'react'\nimport * as b_ from 'b_'\n\nimport './index.scss';\n\nimport logo from './static/logo.png';\n\nconst b = b_.bind(null, 'mobile-header');\n\nconst MobileHeader = () => \n  <section className={b()}>\n    <div>\n      <img className={b(\"logo\")} src={logo} />\n    </div>\n    <div className={b(\"menu-wrap\")}>\n      <a className={b(\"menu\")} href=\"/\">керамика</a>\n      <a className={b(\"menu\")} href=\"/\">валяние</a>\n    </div>\n  </section>\n\nexport default MobileHeader;","import * as React from 'react'\nimport Helmet from 'react-helmet'\nimport DesktopHeader from '../DesktopHeader'\nimport MobileHeader from '../MobileHeader'\n\nimport './index.scss';\n\nconst Layout = ({ children }) => (\n    <>\n      <Helmet\n        title='Тёрка'\n      >\n        <html lang=\"ru\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <link href=\"https://fonts.googleapis.com/css?family=Roboto\" rel=\"stylesheet\" />\n      </Helmet>\n      <div className=\"content\">\n        <DesktopHeader />\n        <MobileHeader />\n        {children}\n      </div>\n    </>\n)\n\nexport default Layout\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","module.exports = __webpack_public_path__ + \"static/arrow-790c6596368ecfa17acf273791af2ea8.png\";","module.exports = __webpack_public_path__ + \"static/unchecked-295110b012c345d99b76fe0d7ee1f269.png\";","module.exports = __webpack_public_path__ + \"static/checked-8e4a99812894e754cd4d63d134c7e64a.png\";"],"sourceRoot":""}