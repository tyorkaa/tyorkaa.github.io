{"version":3,"sources":["webpack:///./node_modules/gatsby/node_modules/core-js/modules/_string-ws.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es7.string.trim-left.js","webpack:///./src/components/Slider/MobileSliderAdmin/static/unchecked.svg","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_string-trim.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es7.array.flat-map.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.string.trim.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es7.string.pad-end.js","webpack:///./src/components/Slider/MobileSlider/static/unchecked.svg","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es7.string.trim-right.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.array.reduce-right.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.string.starts-with.js","webpack:///./src/components/Slider/MobileSlider/static/checked.svg","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_array-fill.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/components/Slider/MobileSliderAdmin/static/checked.svg","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.string.repeat.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_flatten-into-array.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_string-repeat.js","webpack:///./src/components/Slider/MobileSliderAdmin/components/Grid/index.tsx","webpack:///./src/components/Slider/MobileSliderAdmin/components/SliderView/index.tsx","webpack:///./src/components/Slider/MobileSliderAdmin/index.tsx","webpack:///./src/components/Slider/MobileSlider/components/SliderView/index.tsx","webpack:///./src/components/Slider/MobileSlider/index.tsx","webpack:///./src/components/Slider/hooks.ts","webpack:///./node_modules/pinch-zoom-js/src/pinch-zoom.js","webpack:///./src/components/Slider/Zoom/index.tsx","webpack:///./src/components/Slider/index.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.array.last-index-of.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es7.string.pad-start.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.date.to-json.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_string-pad.js","webpack:///./src/components/Product/index.tsx","webpack:///./src/templates/product.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.array.find-index.js"],"names":["module","exports","$trim","this","$export","defined","fails","spaces","space","ltrim","RegExp","rtrim","exporter","KEY","exec","ALIAS","exp","FORCE","fn","trim","P","F","string","TYPE","String","replace","flattenIntoArray","toObject","toLength","aFunction","arraySpeciesCreate","flatMap","callbackfn","sourceLen","A","O","length","arguments","$pad","userAgent","WEBKIT_BUG","test","padEnd","maxLength","undefined","$reduce","reduceRight","context","$startsWith","startsWith","searchString","that","index","Math","min","search","call","slice","toAbsoluteIndex","value","aLen","end","endPos","webpackPolyfill","deprecate","paths","children","Object","defineProperty","enumerable","get","l","i","repeat","isArray","isObject","ctx","IS_CONCAT_SPREADABLE","target","original","source","start","depth","mapper","thisArg","element","spreadable","targetIndex","sourceIndex","mapFn","TypeError","toInteger","count","str","res","n","Infinity","RangeError","b","b_","Grid","className","range","map","j","SlideView","slug","name","width","height","current","isScrolling","pic","geo","container","React","x","y","touchStartPoint","startMove","touchPoint","setTouchPoint","positionX","positionY","positionPoint","setPositionPoint","size","setSize","isMoving","toggleMoving","move","p","getTouchPositionX","getTouchPositionY","commit","save","position","onTouchStart","e","preventDefault","touches","pageX","pageY","onMouseDown","onTouchMove","onMounseMove","onTouchEnd","onMouseWheel","minSize","getMinSize","ds","deltaY","newSize","s","r","getBounceX","getBounceY","ratio","pratio","max","dx","right","dy","bottom","el","addEventListener","removeEventListener","smooth","style","left","ref","moving","backgroundImage","src","backgroundPositionX","backgroundPositionY","backgroundSize","slideName","fetch","method","headers","body","JSON","stringify","credentials","Slider","props","updateWidth","getBoundingClientRect","setState","state","touchPosition","touchStartPosition","zoomed","render","pics","onChangeCurrent","preview","key","id","_","onClick","checked","unchecked","alt","componentDidMount","window","document","componentWillUnmount","color","url","setUrl","img","createElement","onload","onerror","backgroundColor","setWidth","setTouchStartPosition","setTouchPosition","toggleScrolling","stopPropagation","getTouchPosition","getCurrent","distance","round","newCurrent","abs","products","require","assign","varArgs","to","nextSource","nextKey","prototype","hasOwnProperty","writable","configurable","Array","from","object","triggerEvent","event","createEvent","initEvent","dispatchEvent","PinchZoom","options","zoomFactor","lastScale","offset","initialOffset","defaults","setupMarkup","bindEvents","update","isImageLoaded","updateAspectRatio","setupOffsets","enable","sum","a","tapZoomFactor","zoomOutFactor","animationDuration","maxZoom","minZoom","draggableUnzoomed","lockDragAxis","setOffsetsOnce","use2d","zoomStartEventName","zoomUpdateEventName","zoomEndEventName","dragStartEventName","dragUpdateEventName","dragEndEventName","doubleTapEventName","verticalPadding","horizontalPadding","handleDragStart","stopAnimation","lastDragPosition","hasInteraction","handleDrag","touch","getTouches","drag","sanitizeOffset","handleDragEnd","handleZoomStart","nthZoom","lastZoomCenter","handleZoom","newScale","touchCenter","getTouchCenter","scale","handleZoomEnd","handleDoubleTap","center","startZoomFactor","updateProgress","progress","scaleTo","bind","isDoubleTap","getCurrentZoomCenter","animate","swing","computeInitialOffset","offsetWidth","getInitialZoomFactor","offsetHeight","resetOffset","nodeName","complete","naturalHeight","querySelectorAll","every","_isOffsetsSet","elWidth","elHeight","maxX","getContainerX","maxY","getContainerY","maxOffsetX","maxOffsetY","minOffsetX","minOffsetY","_scale","scaleZoomFactor","addOffset","originalZoomFactor","canDrag","expected","lastCenter","getVectorAvg","vectors","v","reduce","sanitize","zoomOutAnimation","isInsaneOffset","sanitizeOffsetAnimation","sanitizedOffset","targetOffset","startOffset","unsetContainerY","setContainerY","parentElement","xZoomFactor","yZoomFactor","getAspectRatio","offsetLeft","centerX","offsetTop","rect","scrollTop","documentElement","scrollLeft","posTop","top","posLeft","duration","framefn","timefn","callback","startTime","Date","getTime","renderFrame","inAnimation","frameTime","requestAnimationFrame","cos","PI","tmp","implementation","createHTMLDocument","innerHTML","parentNode","insertBefore","appendChild","overflow","webkitTransformOrigin","mozTransformOrigin","msTransformOrigin","oTransformOrigin","transformOrigin","self","detectGestures","forEach","imgEl","updatePlaned","setTimeout","type","offsetX","offsetY","transform3d","transform2d","removeClone","clone","removeChild","is3d","webkitTransform","mozTransform","msTransform","oTransform","transform","cloneNode","pointerEvents","enabled","disable","interaction","fingers","lastTouchStart","startTouches","setInteraction","newInteraction","updateInteraction","targetTouches","getDistance","sqrt","cancelEvent","firstMove","time","detectDoubleTap","endTouches","startDistance","calculateScale","definePinchZoom","Zoom","onClose","classList","add","remove","SliderView","isEdit","currentSlide","setCurrentSlide","toggleZoom","allFile","edges","filter","node","relativePath","product","find","path","slideConfigs","slides","result","slideConfig","config","endsWith","split","pop","childImageSharp","resize","dominantColor","coverIndex","findIndex","cover","splice","unshift","usePics","commonProps","process","toIObject","$native","lastIndexOf","NEGATIVE_ZERO","searchElement","apply","padStart","fill","toPrimitive","NaN","toJSON","toISOString","pv","isFinite","fillString","S","stringLength","fillStr","intMaxLength","fillLen","stringFiller","ceil","Product","price","inCart","useSelector","cart","items","item","dispatch","useDispatch","t","useTranslate","title","useDescription","push","actions","addToCart","ProductPage","pathContext","Layout","$find","forced"],"mappings":"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","file":"component---src-templates-product-tsx-1a6860fe5eb9c31d329f.js","sourcesContent":["module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimLeft', function ($trim) {\n  return function trimLeft() {\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMzciIGhlaWdodD0iMzciIHZlcnNpb249IjEuMSIgc3R5bGU9InNoYXBlLXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247IHRleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eTsgZmlsbC1ydWxlOmV2ZW5vZGQ7IGNsaXAtcnVsZTpldmVub2RkIg0Kdmlld0JveD0iMCAwIDM3IDM3Ig0KIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiA8Zz4NCiAgPHBhdGggZmlsbD0iIzIyMiIgZD0ibTExLjgwNDEyLDExLjc4NjczYzMuNDY5NDUsLTMuNjc1OTQgMTAuNjIwODMsLTQuNDM4MzIgMTQuMTI0NzksLTAuNTMzOTJjMy41MDM5NiwzLjkwNDQgNi4wNzM1Miw5LjMzNzA0IC00LjAzNzg5LDE1LjM0MzgyYy0xMC4xMTE0LDYuMDA2NzcgLTE3LjAyNTgxLC03LjQ1OCAtMTAuMDg2OSwtMTQuODA5OXptMjEuNDQwNzcsMTkuMzE0MTRjMCwtMy42NzU5NSAzLjQ2OTQ1LC03LjM1MTkgMy40Njk0NSwtMTEuMDI3ODVjMCwtNy4zNTE4OSAtMy40Njk0NSwtMTQuNzAzNzkgLTEwLjQwODM2LC0xOC4zNzk3NGMtMy40Njk0NSwtMy42NzU5NSAtMTcuMzQ3MjYsMCAtMjAuODE2NzEsMy42NzU5NWMtNi45Mzg5LDcuMzUxOSAtNi45Mzg5LDE4LjM3OTc0IDAsMjUuNzMxNjRjNi45Mzg5MSw3LjM1MTkgMTcuMzQ3MjYsNy4zNTE5IDI3Ljc1NTYyLDB6Ii8+DQogPC9nPg0KPC9zdmc+DQo=\"","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar aFunction = require('./_a-function');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen, A;\n    aFunction(callbackfn);\n    sourceLen = toLength(O.length);\n    A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]);\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatMap');\n","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);\n  }\n});\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMzciIGhlaWdodD0iMzciIHZlcnNpb249IjEuMSIgc3R5bGU9InNoYXBlLXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247IHRleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eTsgZmlsbC1ydWxlOmV2ZW5vZGQ7IGNsaXAtcnVsZTpldmVub2RkIg0Kdmlld0JveD0iMCAwIDM3IDM3Ig0KIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiA8Zz4NCiAgPHBhdGggZmlsbD0iIzIyMiIgZD0ibTExLjgwNDEyLDExLjc4NjczYzMuNDY5NDUsLTMuNjc1OTQgMTAuNjIwODMsLTQuNDM4MzIgMTQuMTI0NzksLTAuNTMzOTJjMy41MDM5NiwzLjkwNDQgNi4wNzM1Miw5LjMzNzA0IC00LjAzNzg5LDE1LjM0MzgyYy0xMC4xMTE0LDYuMDA2NzcgLTE3LjAyNTgxLC03LjQ1OCAtMTAuMDg2OSwtMTQuODA5OXptMjEuNDQwNzcsMTkuMzE0MTRjMCwtMy42NzU5NSAzLjQ2OTQ1LC03LjM1MTkgMy40Njk0NSwtMTEuMDI3ODVjMCwtNy4zNTE4OSAtMy40Njk0NSwtMTQuNzAzNzkgLTEwLjQwODM2LC0xOC4zNzk3NGMtMy40Njk0NSwtMy42NzU5NSAtMTcuMzQ3MjYsMCAtMjAuODE2NzEsMy42NzU5NWMtNi45Mzg5LDcuMzUxOSAtNi45Mzg5LDE4LjM3OTc0IDAsMjUuNzMxNjRjNi45Mzg5MSw3LjM1MTkgMTcuMzQ3MjYsNy4zNTE5IDI3Ljc1NTYyLDB6Ii8+DQogPC9nPg0KPC9zdmc+DQo=\"","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimRight', function ($trim) {\n  return function trimRight() {\n    return $trim(this, 2);\n  };\n}, 'trimEnd');\n","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduceRight, true), 'Array', {\n  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], true);\n  }\n});\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzciIGhlaWdodD0iMzciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgY2xpcC1ydWxlPSJldmVub2RkIj4KIDxnPgogICA8cGF0aCBkPSJtMzMuMjQ0ODksMzEuMTAwODdjMCwtMy42NzU5NSAzLjQ2OTQ1LC03LjM1MTkgMy40Njk0NSwtMTEuMDI3ODVjMCwtNy4zNTE4OSAtMy40Njk0NSwtMTQuNzAzNzkgLTEwLjQwODM2LC0xOC4zNzk3NGMtMy40Njk0NSwtMy42NzU5NSAtMTcuMzQ3MjYsMCAtMjAuODE2NzEsMy42NzU5NWMtNi45Mzg5LDcuMzUxOSAtNi45Mzg5LDE4LjM3OTc0IDAsMjUuNzMxNjRjNi45Mzg5MSw3LjM1MTkgMTcuMzQ3MjYsNy4zNTE5IDI3Ljc1NTYyLDB6IiBmaWxsPSIjMjIyIi8+CiA8L2c+Cjwvc3ZnPg==\"","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","require(\"core-js/modules/es6.object.define-property\");\n\nmodule.exports = function (module) {\n  if (!module.webpackPolyfill) {\n    module.deprecate = function () {};\n\n    module.paths = []; // module.parent = undefined by default\n\n    if (!module.children) module.children = [];\n    Object.defineProperty(module, \"loaded\", {\n      enumerable: true,\n      get: function get() {\n        return module.l;\n      }\n    });\n    Object.defineProperty(module, \"id\", {\n      enumerable: true,\n      get: function get() {\n        return module.i;\n      }\n    });\n    module.webpackPolyfill = 1;\n  }\n\n  return module;\n};","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzciIGhlaWdodD0iMzciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgY2xpcC1ydWxlPSJldmVub2RkIj4KIDxnPgogICA8cGF0aCBkPSJtMzMuMjQ0ODksMzEuMTAwODdjMCwtMy42NzU5NSAzLjQ2OTQ1LC03LjM1MTkgMy40Njk0NSwtMTEuMDI3ODVjMCwtNy4zNTE4OSAtMy40Njk0NSwtMTQuNzAzNzkgLTEwLjQwODM2LC0xOC4zNzk3NGMtMy40Njk0NSwtMy42NzU5NSAtMTcuMzQ3MjYsMCAtMjAuODE2NzEsMy42NzU5NWMtNi45Mzg5LDcuMzUxOSAtNi45Mzg5LDE4LjM3OTc0IDAsMjUuNzMxNjRjNi45Mzg5MSw3LjM1MTkgMTcuMzQ3MjYsNy4zNTE5IDI3Ljc1NTYyLDB6IiBmaWxsPSIjMjIyIi8+CiA8L2c+Cjwvc3ZnPg==\"","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar isArray = require('./_is-array');\nvar isObject = require('./_is-object');\nvar toLength = require('./_to-length');\nvar ctx = require('./_ctx');\nvar IS_CONCAT_SPREADABLE = require('./_wks')('isConcatSpreadable');\n\nfunction flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? ctx(mapper, thisArg, 3) : false;\n  var element, spreadable;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      spreadable = false;\n      if (isObject(element)) {\n        spreadable = element[IS_CONCAT_SPREADABLE];\n        spreadable = spreadable !== undefined ? !!spreadable : isArray(element);\n      }\n\n      if (spreadable && depth > 0) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1fffffffffffff) throw TypeError();\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n}\n\nmodule.exports = flattenIntoArray;\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","import * as React from 'react';\nimport { range } from 'lodash';\nimport * as b_ from 'b_';\n\nimport './index.scss';\n\nconst b = b_.with('slider-edit-grid');\n\nexport const Grid: React.FC = () =>\n  <div className={b()}>\n    <table>\n      <tbody>\n        {range(3).map(i => (<tr>{range(3).map(j => <td />)}</tr>))}\n      </tbody>\n    </table>\n  </div>","import * as React from 'react'\nimport * as b_ from 'b_';\nimport { Image } from 'types';\nimport {Grid} from '../Grid';\n\nimport './index.scss';\n\nconst b = b_.with('mobile-slider-slide');\n\ninterface Geo {\n  positionX?: number\n  positionY?: number\n  size?: number\n}\n\ninterface Props {\n  slug: string\n  pic: Image\n  name: string\n  geo: Geo\n  width: number\n  height: number\n  current: number\n  isScrolling: boolean;\n  index: number;\n}\n\ninterface Point {\n  x: number\n  y: number\n}\n\nconst SlideView: React.FC<Props> = ({ slug, name, width, height, index, current, isScrolling, pic, geo }) => {\n\n  const container = React.useRef<HTMLDivElement>(null);\n\n  const [touchStartPoint, startMove] = React.useState<Point>({ x: 0, y: 0 });\n  const [touchPoint, setTouchPoint] = React.useState<Point>({ x: 0, y: 0 });\n  const [positionPoint, setPositionPoint] = React.useState<Point>({ x: (geo.positionX || 0) * width, y: (geo.positionY || 0) * height });\n  const [size, setSize] = React.useState(geo.size || 100);\n  const [isMoving, toggleMoving] = React.useState(false);\n\n  const move = (p: Point) => {\n    setTouchPoint({\n      x: getTouchPositionX(p.x - touchStartPoint.x),\n      y: getTouchPositionY(p.y - touchStartPoint.y)\n    })\n  };\n\n  const stopMove = () => setTouchPoint({ x: 0, y: 0 });\n\n  const commit = (p: Point) => {\n    setPositionPoint(p);\n    save(slug, name, {\n      positionX: p.x/width,\n      positionY: p.y/height,\n      size\n    });\n  }\n\n  const position = (index - current) * width;\n\n  const onTouchStart = (e: TouchEvent) => {\n    e.preventDefault();\n    toggleMoving(true);\n    startMove({ x: e.touches[0].pageX, y: e.touches[0].pageY });\n  };\n\n  const onMouseDown = (e: MouseEvent) => {\n    e.preventDefault();\n    toggleMoving(true);\n    startMove({ x: e.pageX, y: e.pageY });\n  };\n\n  const onTouchMove = (e: TouchEvent) =>\n    move({ x: e.touches[0].pageX, y: e.touches[0].pageY });\n\n  const onMounseMove = (e: MouseEvent) => {\n    if(!isMoving) {\n      return;\n    }\n    move({ x: e.pageX, y: e.pageY });\n  }\n\n  const onTouchEnd = () => {\n    toggleMoving(false);\n    commit({\n      x: positionPoint.x + touchPoint.x,\n      y: positionPoint.y + touchPoint.y\n    });\n    stopMove();\n  }\n\n  const onMouseWheel = (e: WheelEvent) => {\n    e.preventDefault();\n    const minSize = getMinSize() * 100;\n    const ds = (e.deltaY < 0 ? 1 : -1);\n    const newSize = size + ds;\n    if (newSize < minSize) {\n      setSize(minSize);\n      return;\n    }\n    const s = newSize / 100;\n    const r = (s + ds / 100) / s;\n    setSize(newSize);\n    commit({\n      x: getBounceX((positionPoint.x - width / 2) * r + width / 2, newSize),\n      y: getBounceY((positionPoint.y - height / 2) * r + height / 2, newSize)\n    })\n  }\n\n  const getMinSize = () => {\n    const ratio = width / height;\n    const pratio = pic.width && pic.height ? pic.width / pic.height : 1;\n    return Math.max(1, pratio / ratio);\n  }\n\n  const getTouchPositionX = (dx: number) => {\n    const x = positionPoint.x + dx;\n    const right = -width * (size - 100) / 100;\n    if (x > 0) return -positionPoint.x;\n    if (x < right) return right - positionPoint.x;\n    return dx;\n  }\n\n  const getTouchPositionY = (dy: number) => {\n    const y = positionPoint.y + dy;\n    const bottom = pic.width && pic.height ? height - pic.height * width / pic.width * size / 100 : 0;\n    if (y > 0) return -positionPoint.y;\n    if (y < bottom) return bottom - positionPoint.y;\n    return dy;\n  }\n\n  const getBounceX = (x: number, size: number) => {\n    const right = -width * (size - 100) / 100;\n    if (x > 0) return 0;\n    if (x < right) return right;\n    return x;\n  }\n\n  const getBounceY = (y: number, size: number) => {\n    const bottom = pic.width && pic.height ? height - pic.height * width / pic.width * size / 100 : 0;\n    if (y > 0) return 0;\n    if (y < bottom) return bottom;\n    return y;\n  }\n\n  React.useEffect(() => {\n    if (!container.current) {\n      return;\n    }\n    const el = container.current;\n    el.addEventListener('touchmove', onTouchMove);\n    el.addEventListener('touchstart', onTouchStart);\n    el.addEventListener('touchend', onTouchEnd);\n    el.addEventListener('mousemove', onMounseMove);\n    el.addEventListener('mousedown', onMouseDown);\n    el.addEventListener('mouseup', onTouchEnd);\n    el.addEventListener('touchend', onTouchEnd);\n    el.addEventListener('touchcancel', onTouchEnd);\n    el.addEventListener('wheel', onMouseWheel);\n\n    return () => {\n      el.removeEventListener('touchmove', onTouchMove);\n      el.removeEventListener('touchstart', onTouchStart);\n      el.removeEventListener('touchend', onTouchEnd);\n      el.removeEventListener('touchcancel', onTouchEnd);\n      el.removeEventListener('mousemove', onMounseMove);\n      el.removeEventListener('mousedown', onMouseDown);\n      el.removeEventListener('mouseup', onTouchEnd);\n      el.removeEventListener('wheel', onMouseWheel);\n    }\n  })\n\n  return (\n    <div\n      className={b('image-wrap', { smooth: !isScrolling })}\n      style={{\n        left: `${position}px`,\n      }}\n    >\n      <div\n        ref={container}\n        className={b(\"image\", { moving: isMoving })}\n        style={{\n          backgroundImage: `url(${pic.src})`,\n          backgroundPositionX: `${positionPoint.x + touchPoint.x}px`,\n          backgroundPositionY: `${positionPoint.y + touchPoint.y}px`,\n          backgroundSize: `${size}%`\n        }}\n      >\n        <Grid />\n      </div>\n    </div>\n  );\n}\n\nexport default SlideView;\n\nconst save = (slug: string, slideName: string, geo: Geo) => {\n  fetch(`http://localhost:3000/${slug}/slide/${slideName}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(geo),\n    credentials: 'include'\n  })\n}\n","import * as React from 'react'\nimport SlideView from './components/SliderView';\nimport * as b_ from 'b_';\nimport {Slide} from '../../../types';\n\nimport './index.scss';\n\nimport * as unchecked from './static/unchecked.svg';\nimport * as checked from './static/checked.svg';\n\nconst ratio = 1;\n\ninterface Props {\n  current: number\n  slug: string\n  pics: Slide[];\n  onChangeCurrent: (i: number) => void\n}\n\ninterface State {\n  width: number;\n  touchPosition: number;\n  isScrolling: boolean;\n  touchStartPosition: number;\n  zoomed: boolean\n  mouseX?: number\n  mouseY?: number\n}\n\nconst b = b_.with('mobile-slider');\n\nexport class Slider extends React.Component<Props, State> {\n  private container: HTMLDivElement | null = null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      width: 0,\n      touchPosition: 0,\n      touchStartPosition: 0,\n      isScrolling: true,\n      zoomed: false\n    };\n  }\n\n  render() {\n    const { slug, pics, current, onChangeCurrent } = this.props;\n\n    const { width, isScrolling } = this.state;\n    \n    return (\n      <div\n        className={b()}\n        ref={el => (this.container = el)}\n      >\n        <div className={b('wrapper')} style={{height: `${width/ratio}px`}}>\n          {width &&\n            pics.map((pic, i) => (\n              pic.preview && <SlideView\n                key={i}\n                slug={slug}\n                name={pic.id}\n                pic={pic.preview}\n                geo={{\n                  positionX: pic.positionX,\n                  positionY: pic.positionY,\n                  size: pic.size\n                }}\n                index={i}\n                width={width}\n                height={width/ratio}\n                current={current}\n                isScrolling={isScrolling}\n              />\n            ))}\n        </div>\n        <div className={b('dots')}>\n          {pics.map((_, i) => (\n            <div\n              key={i}\n              className={b('dot')}\n              onClick={() => onChangeCurrent(i)}\n            >\n              <img src={i === current ? checked: unchecked} alt=\"o\"/>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  private updateWidth = () => {\n    if (this.container) {\n      const { width } = this.container.getBoundingClientRect();\n      this.setState({ width });\n    }\n  };\n  \n  componentDidMount() {\n    this.updateWidth();\n    window.addEventListener('resize', this.updateWidth);\n    window.document.addEventListener('resize', this.updateWidth);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWidth);\n  }\n}\n\nexport default Slider;","import * as React from 'react'\nimport * as b_ from 'b_';\nimport { Image } from 'types';\nimport './index.scss';\n\nconst b = b_.with('mobile-slider-slide');\n\ninterface Geo {\n  positionX?: number\n  positionY?: number\n  size?: number\n}\n\ninterface Props {\n  pic: Image\n  color?: string\n  geo: Geo\n  width: number\n  height: number\n  current: number\n  touchPosition: number;\n  isScrolling: boolean;\n  index: number;\n  onClick: () => void\n}\n\nconst SlideView: React.FC<Props> = ({\n  width,\n  height,\n  touchPosition,\n  index,\n  current,\n  isScrolling,\n  pic,\n  color,\n  geo,\n  onClick\n}) => {\n  const position = (index - current) * width + touchPosition;\n\n  const [url, setUrl] = React.useState<string | null>(null);\n\n  React.useEffect(() => {\n    if(typeof window === 'undefined' || !pic.src){\n      return;\n    }\n\n    const img = document.createElement('img');\n\n    img.onload = () => setUrl(pic.src || null);\n    img.onerror = () => setUrl(pic.src || null);\n\n    img.src = pic.src;\n  })\n\n  return (\n    <div\n      className={b('image-wrap', { smooth: !isScrolling })}\n      style={{\n        left: `${position}px`,\n      }}\n      onClick={onClick}\n    >\n      <div\n        className={b(\"image\")}\n        style={{\n          backgroundImage: url? `url(${url})`: undefined,\n          backgroundColor: !url ? color : undefined,\n          backgroundPositionX: `${(geo.positionX || 0) * width}px`,\n          backgroundPositionY: `${(geo.positionY || 0) * height}px`,\n          backgroundSize: `${geo.size}%`\n        }}\n      />\n    </div>\n  );\n}\n\nexport default SlideView;","import * as React from 'react'\nimport SlideView from './components/SliderView';\nimport * as b_ from 'b_';\nimport { Slide } from '../../../types';\n\nimport './index.scss';\n\nimport * as unchecked from './static/unchecked.svg';\nimport * as checked from './static/checked.svg';\n\nconst ratio = 1;\n\ninterface Props {\n  pics: Slide[];\n  onClick: (pic: Slide) => void\n  current: number;\n  onChangeCurrent: (i: number) => void\n}\n\nconst b = b_.with('mobile-slider');\n\nexport const Slider: React.FC<Props> = ({ pics, onClick, current, onChangeCurrent }) => {\n  const [width, setWidth] = React.useState(0);\n  const [touchStartPosition, setTouchStartPosition] = React.useState(0)\n  // const [touchStartPositionY, setTouchStartPositionY] = React.useState(0)\n  const [touchPosition, setTouchPosition] = React.useState(0);\n  const [isScrolling, toggleScrolling] = React.useState(false);\n\n  const container = React.useRef<HTMLDivElement>(null);\n\n  const updateWidth = () => {\n    if (container.current) {\n      const { width } = container.current.getBoundingClientRect();\n      setWidth(width);\n    }\n  };\n\n  const onTouchMove = (e: TouchEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n    setTouchPosition(getTouchPosition(e.touches[0].pageX - touchStartPosition));\n    // const d = touchStartPositionY - e.touches[0].pageY;\n    //   window.scrollBy({\n    //   top: d\n    // })\n    // setTouchStartPositionY(e.touches[0].pageY);\n  };\n\n  const onTouchStart = (e: TouchEvent) => {\n    toggleScrolling(true);\n    setTouchStartPosition(e.touches[0].pageX);\n    // setTouchStartPositionY(e.touches[0].pageY);\n  };\n\n  const onTouchEnd = () => {\n    toggleScrolling(false);\n    onChangeCurrent(getCurrent());\n    setTouchPosition(0);\n  };\n\n  const getTouchPosition = (x: number) => {\n    // bounce\n    if (pics.length && ((current === 0 && x > 0) || (current === pics.length - 1 && x < 0))) {\n      return x / 10;\n    }\n    return x;\n  }\n\n  const getCurrent = () => {\n    const distance = Math.round(touchPosition / (width / 2));\n    const newCurrent = current - (distance ? distance / Math.abs(distance) : 0);\n\n    if (pics.length) {\n      if (newCurrent < 0) {\n        return 0;\n      }\n      if (newCurrent > pics.length - 1) {\n        return pics.length - 1;\n      }\n    }\n    return newCurrent;\n  }\n\n  React.useEffect(() => {\n    updateWidth();\n    window.addEventListener('resize', updateWidth);\n    window.document.addEventListener('resize', updateWidth);\n\n    if (!container.current) {\n      return;\n    }\n    const el = container.current;\n    el.addEventListener('touchmove', onTouchMove);\n    el.addEventListener('touchstart', onTouchStart);\n    el.addEventListener('touchend', onTouchEnd);\n    el.addEventListener('touchcancel', onTouchEnd);\n\n    return () => {\n      window.removeEventListener('resize', updateWidth);\n      el.removeEventListener('touchmove', onTouchMove);\n      el.removeEventListener('touchstart', onTouchStart);\n      el.removeEventListener('touchend', onTouchEnd);\n      el.removeEventListener('touchcancel', onTouchEnd);\n    }\n  });\n\n\n  return (\n    <div\n      className={b()}\n      \n    >\n      <div className={b('wrapper')} style={{ height: `${width / ratio}px` }} ref={container}>\n        {width &&\n          pics.map((pic, i) => (\n            pic.preview && <SlideView\n              key={i}\n              pic={pic.preview}\n              color={pic.color}\n              \n              geo={{\n                positionX: pic.positionX,\n                positionY: pic.positionY,\n                size: pic.size\n              }}\n              index={i}\n              width={width}\n              height={width / ratio}\n              current={current}\n              touchPosition={touchPosition}\n              isScrolling={isScrolling}\n              onClick={() => onClick(pic)}\n            />\n          ))}\n      </div>\n      <div className={b('dots')}>\n        {pics.map((_, i) => (\n          <div\n            key={i}\n            className={b('dot')}\n            onClick={() => onChangeCurrent(i)}\n          >\n            <img src={i === current ? checked : unchecked} alt=\"o\" />\n          </div>\n        ))}\n      </div>\n    </div >\n  );\n}\n\nexport default Slider;","import { useStaticQuery, graphql } from \"gatsby\";\nimport { SliderPicsQuery } from '../../../gatsby-graphql';\nimport { ProductsJson, Slide } from \"../../types\";\nconst { products }: ProductsJson = require('../../products/products.json');\n\nexport const usePics = (name: string): Slide[] => {\n  const data = useStaticQuery<SliderPicsQuery>(graphql`\n    query SliderPics{\n      allFile(filter: {extension: {regex: \"/jpg|png/\"}}){\n        edges{\n          node{\n            name\n            relativePath\n            childImageSharp{\n              resize(height: 600, quality: 95){\n                src\n                width\n                height\n              }\n\n              original{\n                src\n                width\n                height\n              }\n            }\n            dominantColor {\n              color\n            }\n          }\n        }\n      }\n    }\n  `);\n\n  const pics = data.allFile.edges\n    .filter(({node}) => node.relativePath.startsWith(`${name}/`));\n\n  const product = products.find(product => product.path === name);\n\n  if(!product || !pics.length){\n    return [];\n  }\n\n  const slideConfigs = product.slides || [];\n\n  const result = pics.map(({node}) => {\n\n    const slideConfig = slideConfigs.find(config => node.relativePath.endsWith(`/${config.id}`));\n\n    return {\n      id: node.relativePath.split('/').pop() || '',\n      positionX: slideConfig?.positionX || 0,\n      positionY: slideConfig?.positionY || 0,\n      size: slideConfig?.size || 100,\n      original: node.childImageSharp?.original,\n      preview: node.childImageSharp?.resize,\n      color: node.dominantColor?.color || 'white'\n    }\n  })\n\n  const coverIndex = result.findIndex(pic => pic.id.startsWith('cover'));\n\n  if(coverIndex >= 0) {\n    const cover = result[coverIndex];\n    result.splice(coverIndex, 1);\n    result.unshift(cover);\n  }\n\n  return result;\n}","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.assign\";\n\n/*\n\n    PinchZoom.js\n    Copyright (c) Manuel Stofer 2013 - today\n\n    Author: Manuel Stofer (mst@rtp.ch)\n    Version: 2.3.0\n\n    Permission is hereby granted, free of charge, to any person obtaining a copy\n    of this software and associated documentation files (the \"Software\"), to deal\n    in the Software without restriction, including without limitation the rights\n    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n    copies of the Software, and to permit persons to whom the Software is\n    furnished to do so, subject to the following conditions:\n\n    The above copyright notice and this permission notice shall be included in\n    all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n    THE SOFTWARE.\n\n*/\n// polyfills\nif (typeof Object.assign != 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, \"assign\", {\n    value: function assign(target, varArgs) {\n      // .length of function is 2\n      if (target == null) {\n        // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) {\n          // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n\n      return to;\n    },\n    writable: true,\n    configurable: true\n  });\n}\n\nif (typeof Array.from != 'function') {\n  Array.from = function (object) {\n    return [].slice.call(object);\n  };\n} // utils\n\n\nvar buildElement = function buildElement(str) {\n  // empty string as title argument required by IE and Edge\n  var tmp = document.implementation.createHTMLDocument('');\n  tmp.body.innerHTML = str;\n  return Array.from(tmp.body.children)[0];\n};\n\nvar triggerEvent = function triggerEvent(el, name) {\n  var event = document.createEvent('HTMLEvents');\n  event.initEvent(name, true, false);\n  el.dispatchEvent(event);\n};\n\nvar definePinchZoom = function definePinchZoom() {\n  /**\n   * Pinch zoom\n   * @param el\n   * @param options\n   * @constructor\n   */\n  var PinchZoom = function PinchZoom(el, options) {\n    this.el = el;\n    this.zoomFactor = 1;\n    this.lastScale = 1;\n    this.offset = {\n      x: 0,\n      y: 0\n    };\n    this.initialOffset = {\n      x: 0,\n      y: 0\n    };\n    this.options = Object.assign({}, this.defaults, options);\n    this.setupMarkup();\n    this.bindEvents();\n    this.update(); // The image may already be loaded when PinchZoom is initialized,\n    // and then the load event (which trigger update) will never fire.\n\n    if (this.isImageLoaded(this.el)) {\n      this.updateAspectRatio();\n      this.setupOffsets();\n    }\n\n    this.enable();\n  },\n      sum = function sum(a, b) {\n    return a + b;\n  },\n      isCloseTo = function isCloseTo(value, expected) {\n    return value > expected - 0.01 && value < expected + 0.01;\n  };\n\n  PinchZoom.prototype = {\n    defaults: {\n      tapZoomFactor: 2,\n      zoomOutFactor: 1.3,\n      animationDuration: 300,\n      maxZoom: 4,\n      minZoom: 0.5,\n      draggableUnzoomed: true,\n      lockDragAxis: false,\n      setOffsetsOnce: false,\n      use2d: true,\n      zoomStartEventName: 'pz_zoomstart',\n      zoomUpdateEventName: 'pz_zoomupdate',\n      zoomEndEventName: 'pz_zoomend',\n      dragStartEventName: 'pz_dragstart',\n      dragUpdateEventName: 'pz_dragupdate',\n      dragEndEventName: 'pz_dragend',\n      doubleTapEventName: 'pz_doubletap',\n      verticalPadding: 0,\n      horizontalPadding: 0\n    },\n\n    /**\n     * Event handler for 'dragstart'\n     * @param event\n     */\n    handleDragStart: function handleDragStart(event) {\n      triggerEvent(this.el, this.options.dragStartEventName);\n      this.stopAnimation();\n      this.lastDragPosition = false;\n      this.hasInteraction = true;\n      this.handleDrag(event);\n    },\n\n    /**\n     * Event handler for 'drag'\n     * @param event\n     */\n    handleDrag: function handleDrag(event) {\n      var touch = this.getTouches(event)[0];\n      this.drag(touch, this.lastDragPosition);\n      this.offset = this.sanitizeOffset(this.offset);\n      this.lastDragPosition = touch;\n    },\n    handleDragEnd: function handleDragEnd() {\n      triggerEvent(this.el, this.options.dragEndEventName);\n      this.end();\n    },\n\n    /**\n     * Event handler for 'zoomstart'\n     * @param event\n     */\n    handleZoomStart: function handleZoomStart(event) {\n      triggerEvent(this.el, this.options.zoomStartEventName);\n      this.stopAnimation();\n      this.lastScale = 1;\n      this.nthZoom = 0;\n      this.lastZoomCenter = false;\n      this.hasInteraction = true;\n    },\n\n    /**\n     * Event handler for 'zoom'\n     * @param event\n     */\n    handleZoom: function handleZoom(event, newScale) {\n      // a relative scale factor is used\n      var touchCenter = this.getTouchCenter(this.getTouches(event)),\n          scale = newScale / this.lastScale;\n      this.lastScale = newScale; // the first touch events are thrown away since they are not precise\n\n      this.nthZoom += 1;\n\n      if (this.nthZoom > 3) {\n        this.scale(scale, touchCenter);\n        this.drag(touchCenter, this.lastZoomCenter);\n      }\n\n      this.lastZoomCenter = touchCenter;\n    },\n    handleZoomEnd: function handleZoomEnd() {\n      triggerEvent(this.el, this.options.zoomEndEventName);\n      this.end();\n    },\n\n    /**\n     * Event handler for 'doubletap'\n     * @param event\n     */\n    handleDoubleTap: function handleDoubleTap(event) {\n      var center = this.getTouches(event)[0],\n          zoomFactor = this.zoomFactor > 1 ? 1 : this.options.tapZoomFactor,\n          startZoomFactor = this.zoomFactor,\n          updateProgress = function (progress) {\n        this.scaleTo(startZoomFactor + progress * (zoomFactor - startZoomFactor), center);\n      }.bind(this);\n\n      if (this.hasInteraction) {\n        return;\n      }\n\n      this.isDoubleTap = true;\n\n      if (startZoomFactor > zoomFactor) {\n        center = this.getCurrentZoomCenter();\n      }\n\n      this.animate(this.options.animationDuration, updateProgress, this.swing);\n      triggerEvent(this.el, this.options.doubleTapEventName);\n    },\n\n    /**\n     * Compute the initial offset\n     *\n     * the element should be centered in the container upon initialization\n     */\n    computeInitialOffset: function computeInitialOffset() {\n      this.initialOffset = {\n        x: -Math.abs(this.el.offsetWidth * this.getInitialZoomFactor() - this.container.offsetWidth) / 2,\n        y: -Math.abs(this.el.offsetHeight * this.getInitialZoomFactor() - this.container.offsetHeight) / 2\n      };\n    },\n\n    /**\n     * Reset current image offset to that of the initial offset\n     */\n    resetOffset: function resetOffset() {\n      this.offset.x = this.initialOffset.x;\n      this.offset.y = this.initialOffset.y;\n    },\n\n    /**\n     * Determine if image is loaded\n     */\n    isImageLoaded: function isImageLoaded(el) {\n      if (el.nodeName === 'IMG') {\n        return el.complete && el.naturalHeight !== 0;\n      } else {\n        return Array.from(el.querySelectorAll('img')).every(this.isImageLoaded);\n      }\n    },\n    setupOffsets: function setupOffsets() {\n      if (this.options.setOffsetsOnce && this._isOffsetsSet) {\n        return;\n      }\n\n      this._isOffsetsSet = true;\n      this.computeInitialOffset();\n      this.resetOffset();\n    },\n\n    /**\n     * Max / min values for the offset\n     * @param offset\n     * @return {Object} the sanitized offset\n     */\n    sanitizeOffset: function sanitizeOffset(offset) {\n      var elWidth = this.el.offsetWidth * this.getInitialZoomFactor() * this.zoomFactor;\n      var elHeight = this.el.offsetHeight * this.getInitialZoomFactor() * this.zoomFactor;\n      var maxX = elWidth - this.getContainerX() + this.options.horizontalPadding,\n          maxY = elHeight - this.getContainerY() + this.options.verticalPadding,\n          maxOffsetX = Math.max(maxX, 0),\n          maxOffsetY = Math.max(maxY, 0),\n          minOffsetX = Math.min(maxX, 0) - this.options.horizontalPadding,\n          minOffsetY = Math.min(maxY, 0) - this.options.verticalPadding;\n      return {\n        x: Math.min(Math.max(offset.x, minOffsetX), maxOffsetX),\n        y: Math.min(Math.max(offset.y, minOffsetY), maxOffsetY)\n      };\n    },\n\n    /**\n     * Scale to a specific zoom factor (not relative)\n     * @param zoomFactor\n     * @param center\n     */\n    scaleTo: function scaleTo(zoomFactor, center) {\n      this.scale(zoomFactor / this.zoomFactor, center);\n    },\n\n    /**\n     * Scales the element from specified center\n     * @param scale\n     * @param center\n     */\n    scale: function scale(_scale, center) {\n      _scale = this.scaleZoomFactor(_scale);\n      this.addOffset({\n        x: (_scale - 1) * (center.x + this.offset.x),\n        y: (_scale - 1) * (center.y + this.offset.y)\n      });\n      triggerEvent(this.el, this.options.zoomUpdateEventName);\n    },\n\n    /**\n     * Scales the zoom factor relative to current state\n     * @param scale\n     * @return the actual scale (can differ because of max min zoom factor)\n     */\n    scaleZoomFactor: function scaleZoomFactor(scale) {\n      var originalZoomFactor = this.zoomFactor;\n      this.zoomFactor *= scale;\n      this.zoomFactor = Math.min(this.options.maxZoom, Math.max(this.zoomFactor, this.options.minZoom));\n      return this.zoomFactor / originalZoomFactor;\n    },\n\n    /**\n     * Determine if the image is in a draggable state\n     *\n     * When the image can be dragged, the drag event is acted upon and cancelled.\n     * When not draggable, the drag event bubbles through this component.\n     *\n     * @return {Boolean}\n     */\n    canDrag: function canDrag() {\n      return this.options.draggableUnzoomed || !isCloseTo(this.zoomFactor, 1);\n    },\n\n    /**\n     * Drags the element\n     * @param center\n     * @param lastCenter\n     */\n    drag: function drag(center, lastCenter) {\n      if (lastCenter) {\n        if (this.options.lockDragAxis) {\n          // lock scroll to position that was changed the most\n          if (Math.abs(center.x - lastCenter.x) > Math.abs(center.y - lastCenter.y)) {\n            this.addOffset({\n              x: -(center.x - lastCenter.x),\n              y: 0\n            });\n          } else {\n            this.addOffset({\n              y: -(center.y - lastCenter.y),\n              x: 0\n            });\n          }\n        } else {\n          this.addOffset({\n            y: -(center.y - lastCenter.y),\n            x: -(center.x - lastCenter.x)\n          });\n        }\n\n        triggerEvent(this.el, this.options.dragUpdateEventName);\n      }\n    },\n\n    /**\n     * Calculates the touch center of multiple touches\n     * @param touches\n     * @return {Object}\n     */\n    getTouchCenter: function getTouchCenter(touches) {\n      return this.getVectorAvg(touches);\n    },\n\n    /**\n     * Calculates the average of multiple vectors (x, y values)\n     */\n    getVectorAvg: function getVectorAvg(vectors) {\n      return {\n        x: vectors.map(function (v) {\n          return v.x;\n        }).reduce(sum) / vectors.length,\n        y: vectors.map(function (v) {\n          return v.y;\n        }).reduce(sum) / vectors.length\n      };\n    },\n\n    /**\n     * Adds an offset\n     * @param offset the offset to add\n     * @return return true when the offset change was accepted\n     */\n    addOffset: function addOffset(offset) {\n      this.offset = {\n        x: this.offset.x + offset.x,\n        y: this.offset.y + offset.y\n      };\n    },\n    sanitize: function sanitize() {\n      if (this.zoomFactor < this.options.zoomOutFactor) {\n        this.zoomOutAnimation();\n      } else if (this.isInsaneOffset(this.offset)) {\n        this.sanitizeOffsetAnimation();\n      }\n    },\n\n    /**\n     * Checks if the offset is ok with the current zoom factor\n     * @param offset\n     * @return {Boolean}\n     */\n    isInsaneOffset: function isInsaneOffset(offset) {\n      var sanitizedOffset = this.sanitizeOffset(offset);\n      return sanitizedOffset.x !== offset.x || sanitizedOffset.y !== offset.y;\n    },\n\n    /**\n     * Creates an animation moving to a sane offset\n     */\n    sanitizeOffsetAnimation: function sanitizeOffsetAnimation() {\n      var targetOffset = this.sanitizeOffset(this.offset),\n          startOffset = {\n        x: this.offset.x,\n        y: this.offset.y\n      },\n          updateProgress = function (progress) {\n        this.offset.x = startOffset.x + progress * (targetOffset.x - startOffset.x);\n        this.offset.y = startOffset.y + progress * (targetOffset.y - startOffset.y);\n        this.update();\n      }.bind(this);\n\n      this.animate(this.options.animationDuration, updateProgress, this.swing);\n    },\n\n    /**\n     * Zooms back to the original position,\n     * (no offset and zoom factor 1)\n     */\n    zoomOutAnimation: function zoomOutAnimation() {\n      if (this.zoomFactor === 1) {\n        return;\n      }\n\n      var startZoomFactor = this.zoomFactor,\n          zoomFactor = 1,\n          center = this.getCurrentZoomCenter(),\n          updateProgress = function (progress) {\n        this.scaleTo(startZoomFactor + progress * (zoomFactor - startZoomFactor), center);\n      }.bind(this);\n\n      this.animate(this.options.animationDuration, updateProgress, this.swing);\n    },\n\n    /**\n     * Updates the container aspect ratio\n     *\n     * Any previous container height must be cleared before re-measuring the\n     * parent height, since it depends implicitly on the height of any of its children\n     */\n    updateAspectRatio: function updateAspectRatio() {\n      this.unsetContainerY();\n      this.setContainerY(this.container.parentElement.offsetHeight);\n    },\n\n    /**\n     * Calculates the initial zoom factor (for the element to fit into the container)\n     * @return {number} the initial zoom factor\n     */\n    getInitialZoomFactor: function getInitialZoomFactor() {\n      var xZoomFactor = this.container.offsetWidth / this.el.offsetWidth;\n      var yZoomFactor = this.container.offsetHeight / this.el.offsetHeight;\n      return Math.min(xZoomFactor, yZoomFactor);\n    },\n\n    /**\n     * Calculates the aspect ratio of the element\n     * @return the aspect ratio\n     */\n    getAspectRatio: function getAspectRatio() {\n      return this.el.offsetWidth / this.el.offsetHeight;\n    },\n\n    /**\n     * Calculates the virtual zoom center for the current offset and zoom factor\n     * (used for reverse zoom)\n     * @return {Object} the current zoom center\n     */\n    getCurrentZoomCenter: function getCurrentZoomCenter() {\n      var offsetLeft = this.offset.x - this.initialOffset.x;\n      var centerX = -1 * this.offset.x - offsetLeft / (1 / this.zoomFactor - 1);\n      var offsetTop = this.offset.y - this.initialOffset.y;\n      var centerY = -1 * this.offset.y - offsetTop / (1 / this.zoomFactor - 1);\n      return {\n        x: centerX,\n        y: centerY\n      };\n    },\n\n    /**\n     * Returns the touches of an event relative to the container offset\n     * @param event\n     * @return array touches\n     */\n    getTouches: function getTouches(event) {\n      var rect = this.container.getBoundingClientRect();\n      var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n      var scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\n      var posTop = rect.top + scrollTop;\n      var posLeft = rect.left + scrollLeft;\n      return Array.prototype.slice.call(event.touches).map(function (touch) {\n        return {\n          x: touch.pageX - posLeft,\n          y: touch.pageY - posTop\n        };\n      });\n    },\n\n    /**\n     * Animation loop\n     * does not support simultaneous animations\n     * @param duration\n     * @param framefn\n     * @param timefn\n     * @param callback\n     */\n    animate: function animate(duration, framefn, timefn, callback) {\n      var startTime = new Date().getTime(),\n          renderFrame = function () {\n        if (!this.inAnimation) {\n          return;\n        }\n\n        var frameTime = new Date().getTime() - startTime,\n            progress = frameTime / duration;\n\n        if (frameTime >= duration) {\n          framefn(1);\n\n          if (callback) {\n            callback();\n          }\n\n          this.update();\n          this.stopAnimation();\n          this.update();\n        } else {\n          if (timefn) {\n            progress = timefn(progress);\n          }\n\n          framefn(progress);\n          this.update();\n          requestAnimationFrame(renderFrame);\n        }\n      }.bind(this);\n\n      this.inAnimation = true;\n      requestAnimationFrame(renderFrame);\n    },\n\n    /**\n     * Stops the animation\n     */\n    stopAnimation: function stopAnimation() {\n      this.inAnimation = false;\n    },\n\n    /**\n     * Swing timing function for animations\n     * @param p\n     * @return {Number}\n     */\n    swing: function swing(p) {\n      return -Math.cos(p * Math.PI) / 2 + 0.5;\n    },\n    getContainerX: function getContainerX() {\n      return this.container.offsetWidth;\n    },\n    getContainerY: function getContainerY() {\n      return this.container.offsetHeight;\n    },\n    setContainerY: function setContainerY(y) {\n      return this.container.style.height = y + 'px';\n    },\n    unsetContainerY: function unsetContainerY() {\n      this.container.style.height = null;\n    },\n\n    /**\n     * Creates the expected html structure\n     */\n    setupMarkup: function setupMarkup() {\n      this.container = buildElement('<div class=\"pinch-zoom-container\"></div>');\n      this.el.parentNode.insertBefore(this.container, this.el);\n      this.container.appendChild(this.el);\n      this.container.style.overflow = 'hidden';\n      this.container.style.position = 'relative';\n      this.el.style.webkitTransformOrigin = '0% 0%';\n      this.el.style.mozTransformOrigin = '0% 0%';\n      this.el.style.msTransformOrigin = '0% 0%';\n      this.el.style.oTransformOrigin = '0% 0%';\n      this.el.style.transformOrigin = '0% 0%';\n      this.el.style.position = 'absolute';\n    },\n    end: function end() {\n      this.hasInteraction = false;\n      this.sanitize();\n      this.update();\n    },\n\n    /**\n     * Binds all required event listeners\n     */\n    bindEvents: function bindEvents() {\n      var self = this;\n      detectGestures(this.container, this);\n      window.addEventListener('resize', this.update.bind(this));\n      Array.from(this.el.querySelectorAll('img')).forEach(function (imgEl) {\n        imgEl.addEventListener('load', self.update.bind(self));\n      });\n\n      if (this.el.nodeName === 'IMG') {\n        this.el.addEventListener('load', this.update.bind(this));\n      }\n    },\n\n    /**\n     * Updates the css values according to the current zoom factor and offset\n     */\n    update: function update(event) {\n      if (this.updatePlaned) {\n        return;\n      }\n\n      this.updatePlaned = true;\n      window.setTimeout(function () {\n        this.updatePlaned = false;\n\n        if (event && event.type === 'resize') {\n          this.updateAspectRatio();\n          this.setupOffsets();\n        }\n\n        if (event && event.type === 'load') {\n          this.updateAspectRatio();\n          this.setupOffsets();\n        }\n\n        var zoomFactor = this.getInitialZoomFactor() * this.zoomFactor,\n            offsetX = -this.offset.x / zoomFactor,\n            offsetY = -this.offset.y / zoomFactor,\n            transform3d = 'scale3d(' + zoomFactor + ', ' + zoomFactor + ',1) ' + 'translate3d(' + offsetX + 'px,' + offsetY + 'px,0px)',\n            transform2d = 'scale(' + zoomFactor + ', ' + zoomFactor + ') ' + 'translate(' + offsetX + 'px,' + offsetY + 'px)',\n            removeClone = function () {\n          if (this.clone) {\n            this.clone.parentNode.removeChild(this.clone);\n            delete this.clone;\n          }\n        }.bind(this); // Scale 3d and translate3d are faster (at least on ios)\n        // but they also reduce the quality.\n        // PinchZoom uses the 3d transformations during interactions\n        // after interactions it falls back to 2d transformations\n\n\n        if (!this.options.use2d || this.hasInteraction || this.inAnimation) {\n          this.is3d = true;\n          removeClone();\n          this.el.style.webkitTransform = transform3d;\n          this.el.style.mozTransform = transform2d;\n          this.el.style.msTransform = transform2d;\n          this.el.style.oTransform = transform2d;\n          this.el.style.transform = transform3d;\n        } else {\n          // When changing from 3d to 2d transform webkit has some glitches.\n          // To avoid this, a copy of the 3d transformed element is displayed in the\n          // foreground while the element is converted from 3d to 2d transform\n          if (this.is3d) {\n            this.clone = this.el.cloneNode(true);\n            this.clone.style.pointerEvents = 'none';\n            this.container.appendChild(this.clone);\n            window.setTimeout(removeClone, 200);\n          }\n\n          this.el.style.webkitTransform = transform2d;\n          this.el.style.mozTransform = transform2d;\n          this.el.style.msTransform = transform2d;\n          this.el.style.oTransform = transform2d;\n          this.el.style.transform = transform2d;\n          this.is3d = false;\n        }\n      }.bind(this), 0);\n    },\n\n    /**\n     * Enables event handling for gestures\n     */\n    enable: function enable() {\n      this.enabled = true;\n    },\n\n    /**\n     * Disables event handling for gestures\n     */\n    disable: function disable() {\n      this.enabled = false;\n    }\n  };\n\n  var detectGestures = function detectGestures(el, target) {\n    var interaction = null,\n        fingers = 0,\n        lastTouchStart = null,\n        startTouches = null,\n        setInteraction = function setInteraction(newInteraction, event) {\n      if (interaction !== newInteraction) {\n        if (interaction && !newInteraction) {\n          switch (interaction) {\n            case \"zoom\":\n              target.handleZoomEnd(event);\n              break;\n\n            case 'drag':\n              target.handleDragEnd(event);\n              break;\n          }\n        }\n\n        switch (newInteraction) {\n          case 'zoom':\n            target.handleZoomStart(event);\n            break;\n\n          case 'drag':\n            target.handleDragStart(event);\n            break;\n        }\n      }\n\n      interaction = newInteraction;\n    },\n        updateInteraction = function updateInteraction(event) {\n      if (fingers === 2) {\n        setInteraction('zoom');\n      } else if (fingers === 1 && target.canDrag()) {\n        setInteraction('drag', event);\n      } else {\n        setInteraction(null, event);\n      }\n    },\n        targetTouches = function targetTouches(touches) {\n      return Array.from(touches).map(function (touch) {\n        return {\n          x: touch.pageX,\n          y: touch.pageY\n        };\n      });\n    },\n        getDistance = function getDistance(a, b) {\n      var x, y;\n      x = a.x - b.x;\n      y = a.y - b.y;\n      return Math.sqrt(x * x + y * y);\n    },\n        calculateScale = function calculateScale(startTouches, endTouches) {\n      var startDistance = getDistance(startTouches[0], startTouches[1]),\n          endDistance = getDistance(endTouches[0], endTouches[1]);\n      return endDistance / startDistance;\n    },\n        cancelEvent = function cancelEvent(event) {\n      event.stopPropagation();\n      event.preventDefault();\n    },\n        detectDoubleTap = function detectDoubleTap(event) {\n      var time = new Date().getTime();\n\n      if (fingers > 1) {\n        lastTouchStart = null;\n      }\n\n      if (time - lastTouchStart < 300) {\n        cancelEvent(event);\n        target.handleDoubleTap(event);\n\n        switch (interaction) {\n          case \"zoom\":\n            target.handleZoomEnd(event);\n            break;\n\n          case 'drag':\n            target.handleDragEnd(event);\n            break;\n        }\n      } else {\n        target.isDoubleTap = false;\n      }\n\n      if (fingers === 1) {\n        lastTouchStart = time;\n      }\n    },\n        firstMove = true;\n\n    el.addEventListener('touchstart', function (event) {\n      if (target.enabled) {\n        firstMove = true;\n        fingers = event.touches.length;\n        detectDoubleTap(event);\n      }\n    });\n    el.addEventListener('touchmove', function (event) {\n      if (target.enabled && !target.isDoubleTap) {\n        if (firstMove) {\n          updateInteraction(event);\n\n          if (interaction) {\n            cancelEvent(event);\n          }\n\n          startTouches = targetTouches(event.touches);\n        } else {\n          switch (interaction) {\n            case 'zoom':\n              target.handleZoom(event, calculateScale(startTouches, targetTouches(event.touches)));\n              break;\n\n            case 'drag':\n              target.handleDrag(event);\n              break;\n          }\n\n          if (interaction) {\n            cancelEvent(event);\n            target.update();\n          }\n        }\n\n        firstMove = false;\n      }\n    });\n    el.addEventListener('touchend', function (event) {\n      if (target.enabled) {\n        fingers = event.touches.length;\n        updateInteraction(event);\n      }\n    });\n  };\n\n  return PinchZoom;\n};\n\nvar PinchZoom = definePinchZoom();\nexport default PinchZoom;","import * as React from 'react'\nimport * as b_ from 'b_';\nimport PinchZoom from 'pinch-zoom-js';\nimport { Image } from '../../../types';\n\nimport './index.scss';\n\nconst b = b_.with('zoom');\n\ntype Props = Image & {\n  onClose: () => void;\n};\n\nconst Zoom: React.FC<Props> = ({ src, onClose }) => {\n\n  React.useEffect(() => {\n    window.document.body.classList.add('overflow-hidden');\n\n    return () => {\n      window.document.body.classList.remove('overflow-hidden');\n    }\n  })\n\n  return (\n    <div className={b()} onClick={onClose} >\n      <img\n        ref={el => el && new PinchZoom(el)}\n        src={src || undefined}\n      />\n    </div>);\n}\n\nexport default Zoom;","import * as React from 'react'\nimport * as b_ from 'b_'\nimport SliderEditing from './MobileSliderAdmin';\nimport Slider from './MobileSlider';\nimport { usePics } from './hooks';\nimport Zoom from './Zoom';\n\nimport './index.scss';\n\nconst b = b_.with('slider');\n\nconst isDev = process.env.NODE_ENV === 'development';\n\ninterface Props {\n  name: string\n}\n\nconst SliderView: React.FC<Props> = ({ name }) => {\n  const [isEdit, setEditing] = React.useState(false);\n\n  const [currentSlide, setCurrentSlide] = React.useState(0);\n\n  const [zoomed, toggleZoom] = React.useState(false);\n\n  const pics = usePics(name);\n\n  const commonProps = {\n    pics,\n    current: currentSlide,\n    onChangeCurrent: setCurrentSlide\n  }\n\n  return (\n    <section className={b()}>\n      {isDev &&\n        <button\n          className={b('edit', { active: isEdit })}\n          onClick={() => setEditing(v => !v)}\n        >\n          {!isEdit ? '✎' : '✓'}\n        </button>\n      }\n      {isEdit\n        ? <SliderEditing slug={name} {...commonProps} />\n        : <Slider onClick={() => toggleZoom(true)} {...commonProps} />\n      }\n      {zoomed && <Zoom {...pics[currentSlide].original} onClose={() => toggleZoom(false)} />}\n    </section>\n  );\n}\n\nexport default SliderView;","'use strict';\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar $native = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n    // convert -0 to +0\n    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;\n    var O = toIObject(this);\n    var length = toLength(O.length);\n    var index = length - 1;\n    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));\n    if (index < 0) index = length + index;\n    for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0;\n    return -1;\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n}), 'Date', {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","import * as React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as b_ from 'b_';\nimport { push } from 'gatsby';\nimport { actions } from '../../state/actions';\nimport { RootState } from '../../state/reducer';\nimport { useTranslate } from '../../hooks/translate';\nimport { useDescription } from '../../hooks/md';\nimport Slider from '../Slider';\n\nimport './index.scss';\n\ninterface Props {\n  id: string\n  name: string\n  price?: number\n}\n\nconst b = b_.with('product');\n\nconst Product: React.FC<Props> = ({ id, name, price }) => {\n  const inCart = useSelector((state: RootState) => state.cart.items.find(item => item.id === id))\n  const dispatch = useDispatch();\n\n  const { t } = useTranslate();\n\n  const { title } = useDescription(name);\n\n  const addToCart = () => dispatch(actions.addToCart(id));\n\n  const goToCart = () => push('/cart')\n\n  return (\n    <div className={b()}>\n      <section>\n        <Slider name={name} />\n      </section>\n\n      <section>\n        <div className={b('column')}>\n          <div className={b('title')}>\n            {title}\n          </div>\n\n          {price && <div className={b('price')}>\n            {price} ₽\n          </div>}\n\n          <div>\n            <button\n              className={b('btn')}\n              onClick={inCart ? goToCart : addToCart}\n            >\n              {inCart ? t('Go to cart') : t('Add to cart')}\n            </button>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default Product","import * as React from 'react'\nimport Product from '../components/Product'\nimport Layout from '../components/Layout';\n\ninterface Props {\n  pathContext: {\n    id: string\n    slug: string\n    price?: number\n  }\n}\n\nconst ProductPage: React.FC<Props> = ({ pathContext: { id, slug, price } }) => (\n  <Layout>\n    <Product id={id} name={slug} price={price} />\n  </Layout>\n);\n\nexport default ProductPage\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n"],"sourceRoot":""}