(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{137:function(t,e,n){"use strict";n.r(e);n(146),n(48);var i=n(0),r=n(7),o=n.n(r),c=(n(138),n(139)),s=n(147),a=function(t){function e(e){var n;return(n=t.call(this,e)||this).container=null,n.slide=function(t){n.setState({current:n.state.current+t})},n.updateWidth=function(){if(n.container){var t=n.container.getBoundingClientRect().width;n.setState({width:t})}},n.onTouchMove=function(t){var e=n.state.touchStartPosition;n.setState({touchPosition:n.getTouchPosition(t.touches[0].pageX-e)})},n.onTouchStart=function(t){n.setState({touchStartPosition:t.touches[0].pageX,isScrolling:!0})},n.onTouchEnd=function(t){n.setState({current:n.getCurrent(),touchPosition:0,isScrolling:!1})},n.state={width:0,current:e.current||0,touchPosition:0,touchStartPosition:0,isScrolling:!0},n}o()(e,t);var n=e.prototype;return n.render=function(){var t=this,e=this.props,n=e.className,r=e.count,o=this.state,c=o.current,a=o.width,u=o.touchPosition,h=o.isScrolling,d=this.props.component,l=r;return i.createElement("div",{className:n,ref:function(e){return t.container=e}},a&&Object(s.range)(0,l).map(function(e){return i.createElement(d,{key:e,index:e,width:a,current:c,touchPosition:u,isScrolling:h,slide:t.slide})}))},n.getTouchPosition=function(t){var e=this.props.count,n=this.state.current;return e&&(0===n&&t>0||n===e-1&&t<0)?t/10:t},n.getCurrent=function(){var t=this.props.count,e=this.state,n=e.width,i=e.touchPosition,r=e.current,o=Math.round(i/(n/2)),c=r-(o?o/Math.abs(o):0);if(t){if(c<0)return 0;if(c>t-1)return t-1}return c},n.componentDidMount=function(){this.updateWidth(),window.addEventListener("resize",this.updateWidth),window.document.addEventListener("resize",this.updateWidth),this.container&&(this.container.addEventListener("touchmove",this.onTouchMove),this.container.addEventListener("touchstart",this.onTouchStart),this.container.addEventListener("touchend",this.onTouchEnd),this.container.addEventListener("touchcancel",this.onTouchEnd))},n.componentWillUnmount=function(){window.removeEventListener("resize",this.updateWidth),this.container&&(this.container.removeEventListener("touchmove",this.onTouchMove),this.container.removeEventListener("touchstart",this.onTouchStart),this.container.removeEventListener("touchend",this.onTouchEnd),this.container.removeEventListener("touchcancel",this.onTouchEnd))},n.componentDidUpdate=function(t,e){var n=this.props.onSlide,i=this.state.current;i!==e.current&&n&&n(i)},e}(i.Component),u=(n(149),c.bind(null,"mobile-slider")),h=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).state={current:0,zoomed:!1},e}o()(e,t);var n=e.prototype;return n.render=function(){var t=this,e=this.props.pics,n=this.state.current;return i.createElement(a,{className:u(),count:e.length,current:n,component:function(e){return t.renderSlide(e)}})},n.renderSlide=function(t){var e=this.props.pics,n=e.length,r=t.width,o=t.touchPosition,c=t.index,s=t.current,a=(t.isScrolling,e[(n+c)%n]),h=(c-s)*r+o;return i.createElement("div",{className:u("image-wrap",{smooth:!0}),style:{left:h+"px"}},i.createElement("img",{className:u("image"),src:a.preview.src}))},e}(i.Component),d=(n(151),c.bind(null,"single")),l=function(t){function e(){return t.apply(this,arguments)||this}return o()(e,t),e.prototype.render=function(){var t=this.props,e=t.pics,n=t.title,r=t.description,o=t.price;return i.createElement("section",{className:d()},i.createElement(h,{pics:e}),i.createElement("div",{className:d("title")},n),i.createElement("div",{className:d("description")},r),!!o&&i.createElement(i.Fragment,null,i.createElement("div",{className:d("price")},"Цена: ",i.createElement("span",null,o," Р")),i.createElement("button",{className:d("buy-btn")},"Купить")))},e}(i.Component);n.d(e,"query",function(){return p});var p="2207726465",m=function(t){return t.allFile.edges.map(function(t){var e=t.node;return{name:e.name,preview:e.childImageSharp.resize,original:e.childImageSharp.original}})};e.default=function(t){var e=t.data;return i.createElement(l,{pics:m(e),title:e.allProductsJson.edges[0].node.title,description:e.allProductsJson.edges[0].node.description,price:e.allProductsJson.edges[0].node.price})}},149:function(t,e,n){},151:function(t,e,n){}}]);
//# sourceMappingURL=component---src-templates-single-tsx-7f6de68ceaa130aa16aa.js.map